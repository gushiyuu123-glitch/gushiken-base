@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================================
   Silent UI Framework v4.2.1 — Final Dior Edition
   GUSHIKEN DESIGN × NOA
   (Fade System / Ambient Glow / Dior Cards / SP Animations)
============================================================ */

/* ------------------------------------------------------------
   GLOBAL VARIABLES
------------------------------------------------------------ */
:root {
  --black: #0D0D0D;
  --white: #FAFAFA;

  --gold: #D7C39A;
  --gold-soft: rgba(215,195,154,0.35);

  --fade-ease: cubic-bezier(.22,.56,.18,1);
  --fade-time: 1.1s;
}

/* ------------------------------------------------------------
   BASE RESET / GLOBAL
------------------------------------------------------------ */
body {
  background: var(--black);
  color: var(--white);
  overflow-x: hidden;
  -webkit-font-smoothing: antialiased;
}

.no-scrollbar::-webkit-scrollbar {
  display: none;
}

/* ============================================================
   1) Unified Fade System（全セクション統一）
============================================================ */

/* 初期状態（非表示） */
.aq-fade {
  opacity: 0;
  transform: translate3d(0, 24px, 0);
  transition:
    opacity var(--fade-time) var(--fade-ease),
    transform var(--fade-time) var(--fade-ease);
  will-change: opacity, transform;
}

/* 表示状態（Observerで付与） */
.aq-show {
  opacity: 1 !important;
  transform: translate3d(0, 0, 0) !important;
  transition-delay: 0ms !important; /* ← 動作安定のためリセット */
}

/* 遅延ユーティリティ */
.delay-1 { transition-delay: 0.12s; }
.delay-2 { transition-delay: 0.24s; }
.delay-3 { transition-delay: 0.36s; }
.delay-4 { transition-delay: 0.48s; }
.delay-5 { transition-delay: 0.60s; }

/* ============================================================
   2) Category Title 呼吸アニメ（光のゆらぎ）
============================================================ */
.category-title {
  opacity: 0.92;
  animation: breatheLux 4.2s ease-in-out infinite;
}

@keyframes breatheLux {
  0%, 100% { opacity: 0.92; }
  50%      { opacity: 1; }
}

/* ============================================================
   3) Ambient Glow（背景の光 / Dior 展示の極薄光）
============================================================ */

/* display:none の代わりに opacity:0（Safariバグ対策） */
.ambient-glow {
  position: relative;
  opacity: 0;
  transition: opacity 2s ease;
}

.ambient-glow::before,
.ambient-glow::after {
  content: "";
  position: absolute;
  border-radius: 50%;
  filter: blur(120px);
  opacity: 0.06;
  pointer-events: none;
}

.ambient-glow::before {
  top: 22%;
  left: -10%;
  width: 260px;
  height: 260px;
  background: rgba(255,255,255,0.10);
}

.ambient-glow::after {
  bottom: 16%;
  right: -8%;
  width: 330px;
  height: 330px;
  background: rgba(155,155,155,0.12);
}

/* スクロール後、光が滲む */
body.scrolled .ambient-glow {
  opacity: 1;
}

body.scrolled .ambient-glow::before,
body.scrolled .ambient-glow::after {
  opacity: 0.12;
  filter: blur(140px);
}

/* ============================================================
   4) Dior Card Glow System（カード高級演出）
============================================================ */

.dior-card {
  position: relative;
  transition: 0.8s var(--fade-ease);
  box-shadow: 0 0 0 rgba(255,255,255,0);
}

.dior-card:hover {
  transform: translateY(-2px); /* ← 全カード共通に統一 */
  box-shadow:
    0 10px 24px rgba(0,0,0,0.32),
    0 -6px 18px rgba(255,255,240,0.05);
}

.dior-frame-glow::before {
  content: "";
  position: absolute;
  inset: 0;
  background: radial-gradient(circle at 22% 18%, rgba(255,240,200,0.18), transparent 70%);
  opacity: 0;
  transition: opacity 1.1s ease;
}

.dior-card:hover .dior-frame-glow::before {
  opacity: 0.26;
}

.dior-img {
  transition: transform 1.1s ease, filter 1s ease;
  filter: brightness(0.86) contrast(1.05);
}

.dior-card:hover .dior-img {
  transform: scale(1.045);
  filter: brightness(1.05) contrast(1.1);
}

.dior-grain {
  position: absolute;
  inset: 0;
  background: url('/grain.png');
  opacity: 0.075;
  mix-blend-mode: overlay;
  pointer-events: none;
}

/* ============================================================
   5) Horizontal Scroll (SP)
============================================================ */
.scroll-x-snap {
  scroll-snap-type: x mandatory;
  scroll-behavior: smooth;
}

.scroll-x-hide::-webkit-scrollbar {
  display: none;
}

/* ============================================================
   6) SP Card Slide-in
============================================================ */
.sp-card-animate {
  opacity: 0;
  transform: translate3d(0, 26px, 0);
  animation: spCardIn 1s cubic-bezier(.25,.46,.45,.94) forwards;
}

@keyframes spCardIn {
  0% {
    opacity: 0;
    transform: translate3d(0, 26px, 0) scale(0.985);
  }
  100% {
    opacity: 1;
    transform: translate3d(0, 0, 0) scale(1);
  }
}

/* ============================================================
   END — Silent UI Framework v4.2.1
============================================================ */
.price-section.show {
  opacity: 1;
  transform: translateY(0);
}
@keyframes goldFloat {
  0% {
    transform: translateY(0px) translateX(0px) scale(1);
    opacity: 0.18;
  }
  50% {
    transform: translateY(-12px) translateX(6px) scale(1.02);
    opacity: 0.26;
  }
  100% {
    transform: translateY(-24px) translateX(-6px) scale(1.04);
    opacity: 0.18;
  }
}

@keyframes goldBeam {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(100%);
  }
}

.animate-goldFloat {
  animation: goldFloat 6.8s ease-in-out infinite alternate;
}

.animate-goldBeam {
  animation: goldBeam 14s linear infinite;
}
/* ===============================
   Horizontal Rail – Apple Feel
================================ */

/* レール全体 */
.works-rail {
  scroll-snap-type: x mandatory;
  scroll-behavior: smooth;
}

/* スナップの止まりを強く */
.works-card {
  scroll-snap-stop: always;
  transition:
    transform 0.35s cubic-bezier(.22,.61,.36,1),
    box-shadow 0.35s cubic-bezier(.22,.61,.36,1),
    opacity 0.3s ease;
  opacity: 0.96;
}

/* 横スク中：カードが少し浮く */
.works-rail:active .works-card {
  transform: translateY(-2px) scale(0.985);
  box-shadow: 0 12px 32px rgba(0,0,0,0.35);
}

/* 指を離した後 */
.works-rail:not(:active) .works-card {
  transform: translateY(0) scale(1);
  box-shadow: 0 6px 18px rgba(0,0,0,0.25);
}

/* フォーカスされてる感（中央付近） */
.works-card:hover {
  opacity: 1;
}
/* 横スクロール内ではフェード演出を殺す */
.works-rail .aq-fade,
.works-rail [class*="aq-"] {
  opacity: 1 !important;
  transform: none !important;
}
