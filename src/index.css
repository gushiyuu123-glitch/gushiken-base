@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================================
   Silent UI Framework v4.3 — GUSHIKEN DESIGN SYSTEM
   (Base / Motion / Glow / Dior / WorksRail 統合最適化版)
============================================================ */

/* ------------------------------------------------------------
   ROOT VARIABLES（黒膜・白膜・金・光）
------------------------------------------------------------ */
:root {
  /* Core Colors */
  --black-900: #0b0b0b;
  --black-850: rgba(12,12,12,0.95);
  --black-800: rgba(18,18,18,0.92);
  --white-950: #fafafa;
  --white-900: rgba(255,255,255,0.95);
  --white-700: rgba(255,255,255,0.70);

  /* Brand Gold */
  --gold-strong: #d9b98a;
  --gold-soft: rgba(217,185,138,0.35);
  --gold-faint: rgba(217,185,138,0.18);

  /* Motion Tokens */
  --ease-silent: cubic-bezier(.22,.56,.18,1);
  --fade-time: 1.05s;
  --blur-xs: 2px;
  --blur-sm: 4px;
  --blur-md: 6px;
  --blur-lg: 10px;

  /* Glow Tokens */
  --glow-white: rgba(255,255,255,0.12);
  --glow-silver: rgba(155,155,155,0.12);
  --glow-soft: rgba(255,255,255,0.06);
}

/* ------------------------------------------------------------
   GLOBAL
------------------------------------------------------------ */
body {
  background: var(--black-900);
  color: var(--white-900);
  overflow-x: hidden;
  -webkit-font-smoothing: antialiased;
}

.no-scrollbar::-webkit-scrollbar { display: none; }

/* ============================================================
   1) Silent Fade System
============================================================ */
.aq-fade {
  opacity: 0;
  transform: translate3d(0, 24px, 0);
  transition:
    opacity var(--fade-time) var(--ease-silent),
    transform var(--fade-time) var(--ease-silent);
  will-change: opacity, transform;
}

.aq-show {
  opacity: 1 !important;
  transform: translate3d(0,0,0) !important;
}

.delay-1 { transition-delay: 0.12s; }
.delay-2 { transition-delay: 0.24s; }
.delay-3 { transition-delay: 0.36s; }
.delay-4 { transition-delay: 0.48s; }
.delay-5 { transition-delay: 0.60s; }

/* ============================================================
   2) Ambient Glow（Dior の極薄光）
============================================================ */
.ambient-glow {
  position: relative;
  opacity: 0;
  transition: opacity 2.4s ease;
}

.ambient-glow::before,
.ambient-glow::after {
  content: "";
  position: absolute;
  border-radius: 50%;
  filter: blur(120px);
  opacity: 0.05;
  pointer-events: none;
}

.ambient-glow::before {
  top: 20%;
  left: -12%;
  width: 260px;
  height: 260px;
  background: var(--glow-white);
}

.ambient-glow::after {
  bottom: 18%;
  right: -10%;
  width: 330px;
  height: 330px;
  background: var(--glow-silver);
}

/* Scroll 発火後 */
body.scrolled .ambient-glow {
  opacity: 1;
}

body.scrolled .ambient-glow::before,
body.scrolled .ambient-glow::after {
  opacity: 0.12;
  filter: blur(150px);
}

/* ============================================================
   3) Dior Card Motion（Frame + Glow + Hover）
============================================================ */
.dior-card {
  position: relative;
  transition: 0.8s var(--ease-silent);
  box-shadow: 0 0 0 rgba(255,255,255,0);
}

.dior-card:hover {
  transform: translateY(-2px);
  box-shadow:
    0 12px 28px rgba(0,0,0,0.32),
    0 -6px 18px rgba(255,255,240,0.05);
}

.dior-frame-glow::before {
  content: "";
  position: absolute;
  inset: 0;
  background: radial-gradient(circle at 22% 18%, var(--gold-faint), transparent 70%);
  opacity: 0;
  transition: opacity 1.1s ease;
}

.dior-card:hover .dior-frame-glow::before {
  opacity: 0.28;
}

.dior-img {
  transition: transform 1.1s var(--ease-silent), filter 1s ease;
  filter: brightness(0.86) contrast(1.06);
}

.dior-card:hover .dior-img {
  transform: scale(1.045);
  filter: brightness(1.06) contrast(1.12);
}

.dior-grain {
  position: absolute;
  inset: 0;
  background: url('/grain.png');
  opacity: 0.07;
  mix-blend-mode: overlay;
  pointer-events: none;
}

/* ============================================================
   4) Horizontal Rail（Apple系スクロール）
============================================================ */
.works-rail {
  scroll-snap-type: x mandatory;
  scroll-behavior: smooth;
}

.works-card {
  scroll-snap-stop: always;
  transition:
    transform 0.38s var(--ease-silent),
    box-shadow 0.38s var(--ease-silent),
    opacity 0.3s ease;
  opacity: 0.96;
}

.works-rail:active .works-card {
  transform: translateY(-2px) scale(0.985);
  box-shadow: 0 12px 32px rgba(0,0,0,0.32);
}

.works-rail:not(:active) .works-card {
  transform: translateY(0) scale(1);
  box-shadow: 0 6px 18px rgba(0,0,0,0.25);
}

.works-card:hover {
  opacity: 1;
}

/* Rail 内は aq-fade 無効化（SP での違和感対策） */
.works-rail .aq-fade,
.works-rail [class*="aq-"] {
  opacity: 1 !important;
  transform: none !important;
}

/* ============================================================
   5) Scroll Hint
============================================================ */
.scroll-hint {
  width: 2px;
  height: 18px;
  background: rgba(255,255,255,0.55);
  border-radius: 1px;
  animation: scrollPulse 2.4s ease-in-out infinite;
}

@keyframes scrollPulse {
  0%   { opacity: 0; transform: translateY(-6px); }
  40%  { opacity: 0.6; transform: translateY(0); }
  100% { opacity: 0; transform: translateY(8px); }
}
/* 初期状態（非表示・下に沈めておく） */
.aq-fade {
  opacity: 0;
  transform: translateY(22px);
  filter: blur(6px);
  transition: all 1.05s cubic-bezier(.25, .46, .45, .94);
}

/* 表示状態（呼吸フェード） */
.aq-show {
  opacity: 1 !important;
  transform: translateY(0) !important;
  filter: blur(0px) !important;
}
